import{C as u}from"./index-b-z5iHEr.js";import{a as c}from"./sweetalert2.all-wd8RXnWT.js";import{s as i}from"./sweetMessageStore-_1gVmo5O.js";var m={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_PATH:"ming777",BASE_URL:"/YoJapan/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:d,VITE_PATH:n}=m,P=u("productsStore",{state:()=>({products:[],currentProduct:{},randomProducts:[],pagination:{}}),actions:{getAllProduct(r="",e=1){const{toastMessage:o}=i();c.get(`${d}/api/${n}/products?category=${r}&page=${e}`).then(t=>{const{products:s,pagination:a}=t.data;this.products=s,this.pagination=a}).catch(t=>{o.fire({icon:"error",title:t.response.data.message})})},getProduct(r){const{toastMessage:e}=i();c.get(`${d}/api/${n}/product/${r}`).then(o=>{this.currentProduct=o.data.product,this.getRandomCategoryProducts(this.currentProduct.category,this.currentProduct.id)}).catch(o=>{e.fire({icon:"error",title:o.response.data.message})})},getRandomCategoryProducts(r,e){const{toastMessage:o}=i();c.get(`${d}/api/${n}/products?category=${r}`).then(t=>{const{products:s}=t.data;this.randomProducts=s,this.randomProducts=this.randomProducts.filter(a=>a.id!==e),this.getRandom(this.randomProducts.length)}).catch(t=>{o.fire({icon:"error",title:t.response.data.message})})},getRandom(r){const e=[];let o=4;for(;o>0;){const t=Math.floor(Math.random()*r)+1;e.find(a=>a===t)===void 0&&(e.push(t),o-=1)}this.randomProducts=this.randomProducts.filter((t,s)=>e.includes(s+1))}}});export{P as p};
